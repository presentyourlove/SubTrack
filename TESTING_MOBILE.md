# SubTrack 手機版測試指南

## 測試環境

### iOS 測試環境

- **最低支援版本**: iOS 13.0+
- **測試裝置**: iPhone 8 或更新機型
- **開發工具**: Xcode 14+, Expo Go App

### Android 測試環境

- **最低支援版本**: Android 5.0 (API 21)+
- **測試裝置**: 任何支援的 Android 裝置
- **開發工具**: Android Studio, Expo Go App

---

## 功能測試清單

### 1. 基礎功能測試

#### 訂閱管理

- [ ] 新增訂閱並確認儲存到 SQLite
- [ ] 編輯訂閱並確認變更持久化
- [ ] 刪除訂閱並確認從資料庫移除
- [ ] 分類篩選功能正常運作
- [ ] 訂閱列表滾動流暢（測試 100+ 筆資料）

#### 預算追蹤

- [ ] 圖表在不同螢幕尺寸正確顯示
- [ ] 切換時間範圍（週/月/年）
- [ ] 切換圖表類型（趨勢圖/分類占比圖）
- [ ] 統計數據計算正確

#### 設定功能

- [ ] 帳號註冊/登入/登出
- [ ] 雲端同步（上傳/下載）
- [ ] 幣別切換並確認金額轉換
- [ ] 主題切換（深色/淺色模式）
- [ ] 自訂幣別新增與編輯

---

### 2. 原生功能測試

#### 通知提醒 (Push Notifications)

**iOS 測試**

- [ ] 首次啟動時請求通知權限
- [ ] 授予權限後確認通知已排程
- [ ] 拒絕權限後確認 App 正常運作
- [ ] 在設定中開啟訂閱提醒
- [ ] 設定提醒時間（如：提前 1 天）
- [ ] 確認通知在正確時間觸發
- [ ] 點擊通知後正確開啟 App
- [ ] 在背景/鎖定畫面測試通知顯示
- [ ] 刪除訂閱後確認通知已取消

**Android 測試**

- [ ] 首次啟動時請求通知權限
- [ ] 授予權限後確認通知已排程
- [ ] 拒絕權限後確認 App 正常運作
- [ ] 在設定中開啟訂閱提醒
- [ ] 設定提醒時間（如：提前 1 天）
- [ ] 確認通知在正確時間觸發
- [ ] 點擊通知後正確開啟 App
- [ ] 在背景/鎖定畫面測試通知顯示
- [ ] 刪除訂閱後確認通知已取消
- [ ] 測試通知頻道設定

#### 日曆整合 (Calendar Integration)

**iOS 測試**

- [ ] 首次使用時請求日曆權限
- [ ] 授予權限後確認可新增事件
- [ ] 拒絕權限後確認 App 正常運作
- [ ] 新增訂閱時自動建立日曆事件
- [ ] 確認事件標題、日期、提醒正確
- [ ] 編輯訂閱時更新日曆事件
- [ ] 刪除訂閱時移除日曆事件
- [ ] 在 iOS 日曆 App 中確認事件存在
- [ ] 測試重複事件設定（月/年週期）

**Android 測試**

- [ ] 首次使用時請求日曆權限
- [ ] 授予權限後確認可新增事件
- [ ] 拒絕權限後確認 App 正常運作
- [ ] 新增訂閱時自動建立日曆事件
- [ ] 確認事件標題、日期、提醒正確
- [ ] 編輯訂閱時更新日曆事件
- [ ] 刪除訂閱時移除日曆事件
- [ ] 在 Google 日曆中確認事件存在
- [ ] 測試重複事件設定（月/年週期）

---

### 3. 資料持久化測試

#### SQLite 資料庫

- [ ] 新增資料後關閉 App，重新開啟確認資料存在
- [ ] 測試大量資料寫入（100+ 筆訂閱）
- [ ] 確認資料庫查詢效能（列表載入時間 < 1 秒）
- [ ] 測試資料庫升級/遷移（如有版本更新）
- [ ] 清除 App 資料後確認資料庫重建

#### 雲端同步

- [ ] 在裝置 A 新增訂閱並上傳
- [ ] 在裝置 B 下載並確認資料一致
- [ ] 測試離線模式（無網路時本地操作）
- [ ] 恢復網路後自動同步
- [ ] 處理同步衝突（兩裝置同時修改）

---

### 4. UI/UX 測試

#### 響應式設計

- [ ] 在不同螢幕尺寸測試（小/中/大螢幕）
- [ ] 橫向/直向模式切換
- [ ] 確認所有按鈕可點擊（觸控區域足夠大）
- [ ] 確認文字在所有裝置上清晰可讀
- [ ] 測試深色/淺色模式在不同環境光線下的可讀性

#### 手勢操作

- [ ] 滑動刪除訂閱（如有實作）
- [ ] 下拉重新整理（如有實作）
- [ ] 捏合縮放（如有實作）
- [ ] 長按顯示選單（如有實作）

#### 鍵盤處理

- [ ] 輸入框獲得焦點時鍵盤彈出
- [ ] 鍵盤不遮擋輸入框
- [ ] 點擊外部區域關閉鍵盤
- [ ] 鍵盤類型正確（數字/文字/Email）
- [ ] Return 鍵行為正確（下一個欄位/提交）

---

### 5. 效能測試

#### 啟動時間

- [ ] 冷啟動時間 < 3 秒
- [ ] 熱啟動時間 < 1 秒
- [ ] 首次啟動時間（含資料庫初始化）< 5 秒

#### 記憶體使用

- [ ] 正常使用下記憶體 < 100MB
- [ ] 大量資料（100+ 訂閱）記憶體 < 150MB
- [ ] 無明顯記憶體洩漏（長時間使用）

#### 電池消耗

- [ ] 背景運行時電池消耗低
- [ ] 通知排程不影響電池壽命
- [ ] 無異常喚醒或背景活動

#### 網路效能

- [ ] 雲端同步時間合理（< 5 秒）
- [ ] 弱網路環境下正常運作
- [ ] 網路錯誤時顯示友善訊息

---

### 6. 錯誤處理測試

#### 網路錯誤

- [ ] 無網路時嘗試登入 → 顯示錯誤訊息
- [ ] 無網路時嘗試同步 → 顯示錯誤訊息
- [ ] 網路中斷時自動重試或提示

#### 權限錯誤

- [ ] 拒絕通知權限 → 顯示說明並提供設定連結
- [ ] 拒絕日曆權限 → 顯示說明並提供設定連結
- [ ] 權限被撤銷後 App 不崩潰

#### 輸入驗證

- [ ] 提交空白表單 → 顯示驗證錯誤
- [ ] 輸入無效 Email → 顯示格式錯誤
- [ ] 輸入過短密碼 → 顯示長度要求
- [ ] 輸入負數金額 → 顯示驗證錯誤

#### 異常情況

- [ ] 資料庫損壞時自動重建
- [ ] App 崩潰後重啟恢復狀態
- [ ] 低儲存空間時顯示警告

---

### 7. 安全性測試

#### 資料安全

- [ ] 密碼不以明文儲存
- [ ] 敏感資料加密儲存（如使用 SecureStore）
- [ ] Firebase 驗證 Token 安全管理
- [ ] 本地資料庫無法被其他 App 存取

#### 網路安全

- [ ] 所有 API 請求使用 HTTPS
- [ ] 驗證 SSL 憑證
- [ ] 防止中間人攻擊

---

### 8. 平台特定測試

#### iOS 特定

- [ ] 支援 Face ID / Touch ID（如有實作）
- [ ] 支援 Dark Mode（系統層級）
- [ ] 支援動態字型大小
- [ ] 支援 VoiceOver（無障礙功能）
- [ ] 支援 iPad 多工處理
- [ ] 符合 App Store 審核指南

#### Android 特定

- [ ] 支援返回鍵導航
- [ ] 支援系統分享功能
- [ ] 支援不同 Android 版本（5.0 - 14+）
- [ ] 支援不同螢幕密度（mdpi - xxxhdpi）
- [ ] 支援 TalkBack（無障礙功能）
- [ ] 符合 Google Play 政策

---

## 測試結果記錄

### iOS 測試

- **測試日期**: ___________
- **測試裝置**: ___________
- **iOS 版本**: ___________
- **測試結果**: [ ] 通過 [ ] 失敗
- **備註**: ___________

### Android 測試

- **測試日期**: ___________
- **測試裝置**: ___________
- **Android 版本**: ___________
- **測試結果**: [ ] 通過 [ ] 失敗
- **備註**: ___________

---

## 已知問題

_記錄測試過程中發現的問題_

---

## 測試優先順序

### 🔴 高優先級（必須通過）

- 基礎功能（訂閱管理、預算追蹤）
- 資料持久化（SQLite、雲端同步）
- 權限處理（通知、日曆）
- 安全性測試

### 🟡 中優先級（建議通過）

- UI/UX 測試
- 效能測試
- 錯誤處理

### 🟢 低優先級（可選）

- 手勢操作
- 平台特定功能
- 無障礙功能
